---
title: javaScript —————— 变量、函数的声明提升
date: 2020-03-09 09:23:16
tags: javaScript
---
搜console控制台如何换行的时候(shift + enter),看到这样一张图，乍一看就很懵〇。。。
<!--more-->
![图1. function](function.png)

第二个undefined是function的返回值，就不提了。

我的第一反应是1。。。
因为。。。乍一看真的。。。
要不是验证过结果，还实验了一通，我真的理所当然地以为是1。。。

### 1. 运行结果
首先，运行结束后a的值是多少：
我的第一反应是5。。。居然是5，哎，傻*
显然是1，因为函数中是var a = 5而不是a = 5
外部定义的a是全局变量，也就是定义在window对象中
而函数内部定义的是局部变量
所以运行完var a = 5，函数内部作用域里面其实存在两个a
一个a = 5，另一个window.a = 1
而函数运行完后，所有局部变量都会被回收，只剩下了window.a = 1

### 2. 提升
那么为什么console.log(a)是undefined，换言之，为什么进入函数后a是undefined了呢
这就涉及另一个知识，叫做提升
b = 2;
var b;
console.log(b)
运行这么一段你会发现输出是2
为什么呢
var b;不会覆盖b = 2的声明么，答案是不会的
在js中函数声明和变量声明都会被提升到头部
也就是你可以先用，再声明(虽然这样做不好，请不要这样做，重复，请不要这样做)
所以其实当你进入函数b的时候，首先运行的是
var a;
这个时候a的值是undefined，因为上面我们说了，函数中的a跟外面的a其实不是同一个，只不过名字一样而已
函数中var a;是重新定义了一个变量
所以此时运行console.log(a),打印的值即undefined。




